# ========================================
# IMQ - Immediate Merge Queue Configuration
# ========================================
# Copy this file to .env and fill in your values
# cp .env.example .env

# ========================================
# GitHub Configuration
# ========================================
# GitHub Personal Access Token (required)
# Scopes needed: repo, workflow
# Get token from: https://github.com/settings/tokens
IMQ_GITHUB_TOKEN=

# GitHub Repository (required for webhook mode)
# Format: OWNER/REPO (e.g., octocat/hello-world)
IMQ_GITHUB_REPO=

# GitHub API Base URL (optional, default: https://api.github.com)
# For GitHub Enterprise, use your instance URL
IMQ_GITHUB_API_URL=https://api.github.com

# GitHub Integration Mode (optional, default: webhook)
# Options: polling, webhook
IMQ_GITHUB_MODE=webhook

# Polling Interval in seconds (optional, default: 60)
# Only used when IMQ_GITHUB_MODE=polling
IMQ_POLLING_INTERVAL=60

# ========================================
# Webhook Configuration
# ========================================
# Webhook secret for verifying GitHub webhook payloads (optional but recommended)
# Generate a random string: openssl rand -hex 32
IMQ_WEBHOOK_SECRET=

# External webhook proxy URL (optional)
# If set, IMQ will expect webhooks from this proxy URL instead of using gh webhook forward
# Examples:
#   - ngrok: https://abc123.ngrok.io
#   - smee.io: https://smee.io/abc123
#   - Cloudflare Tunnel: https://tunnel.example.com
# Leave empty to use local development with gh webhook forward
IMQ_WEBHOOK_PROXY_URL=

# Webhook trigger label (optional, default: A-merge)
# PRs with this label will be added to the merge queue
IMQ_TRIGGER_LABEL=A-merge

# ========================================
# Database Configuration
# ========================================
# SQLite database file path (optional, default: ~/.imq/imq.db)
IMQ_DATABASE_PATH=

# Database connection pool size (optional, default: 5)
IMQ_DATABASE_POOL_SIZE=5

# ========================================
# API Server Configuration (imq-core)
# ========================================
# API Server host (optional, default: 0.0.0.0)
IMQ_API_HOST=0.0.0.0

# API Server port (optional, default: 8080)
IMQ_API_PORT=8080

# ========================================
# GUI Configuration (imq-gui)
# ========================================
# GUI server host (optional, default: 0.0.0.0)
IMQ_GUI_HOST=0.0.0.0

# GUI server port (optional, default: 8081)
IMQ_GUI_PORT=8081

# IMQ Core API URL (optional, default: http://localhost:8080)
# Used by GUI to connect to the backend
IMQ_GUI_API_URL=http://localhost:8080

# WebSocket URL (optional, default: ws://localhost:8080/ws/events)
# Used by GUI for real-time updates
IMQ_GUI_WS_URL=ws://localhost:8080/ws/events

# ========================================
# Logging Configuration
# ========================================
# Log level (optional, default: info)
# Options: trace, debug, info, warning, error, critical
IMQ_LOG_LEVEL=info

# Log format (optional, default: pretty)
# Options: json, pretty
IMQ_LOG_FORMAT=pretty

# ========================================
# Runtime Configuration
# ========================================
# Application environment (optional, default: development)
# Options: development, staging, production
IMQ_ENVIRONMENT=development

# Enable debug mode (optional, default: false)
# Options: true, false
IMQ_DEBUG=false
